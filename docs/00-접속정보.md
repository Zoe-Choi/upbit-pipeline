# 접속 정보 가이드

> 모든 서비스의 접속 URL과 자격 증명 정보

## 서비스 URL

| 서비스 | URL | 용도 |
|--------|-----|------|
| **Kafka UI** | http://localhost:8080 | Kafka 토픽/메시지 모니터링 |
| **Flink UI** | http://localhost:8081 | Flink Job 모니터링 |
| **MinIO Console** | http://localhost:9001 | 스토리지 관리 |
| **MinIO S3 API** | http://localhost:9000 | S3 호환 API |
| **ClickHouse HTTP** | http://localhost:8123 | SQL 쿼리 (Shard 1) |
| **ClickHouse HTTP** | http://localhost:8124 | SQL 쿼리 (Shard 2) |

---

## 자격 증명

### MinIO (S3 스토리지)

| 항목 | 값 |
|------|-----|
| Access Key | `minioadmin` |
| Secret Key | `minioadmin` |
| Console URL | http://localhost:9001 |

**Python 연동:**
```python
import boto3

s3 = boto3.client(
    's3',
    endpoint_url='http://localhost:9000',
    aws_access_key_id='minioadmin',
    aws_secret_access_key='minioadmin'
)
```

---

### ClickHouse

| 항목 | 값 |
|------|-----|
| Default User | `default` (비밀번호 없음) |
| Admin User | `admin` |
| Admin Password | `admin123` |
| HTTP Port (Shard 1) | 8123 |
| HTTP Port (Shard 2) | 8124 |
| TCP Port (Shard 1) | 9002 |
| TCP Port (Shard 2) | 9003 |

**CLI 접속:**
```bash
# Default 사용자
docker exec -it clickhouse-1 clickhouse-client

# Admin 사용자
docker exec -it clickhouse-1 clickhouse-client --user admin --password admin123
```

**Python 연동:**
```python
import clickhouse_connect

# Default 사용자 (비밀번호 없음)
client = clickhouse_connect.get_client(host='localhost', port=8123)

# Admin 사용자
client = clickhouse_connect.get_client(
    host='localhost', 
    port=8123,
    username='admin',
    password='admin123'
)
```

**HTTP 쿼리:**
```bash
# Default 사용자
curl 'http://localhost:8123/?query=SELECT%201'

# Admin 사용자
curl 'http://localhost:8123/?user=admin&password=admin123&query=SELECT%201'
```

---

### Kafka

| 항목 | 값 |
|------|-----|
| Bootstrap Servers | `localhost:29092,localhost:29093,localhost:29094` |
| 내부 통신 | `kafka-1:9092,kafka-2:9092,kafka-3:9092` |
| 인증 | 없음 (개발 환경) |

**Python 연동:**
```python
from kafka import KafkaProducer, KafkaConsumer

producer = KafkaProducer(
    bootstrap_servers=['localhost:29092', 'localhost:29093', 'localhost:29094']
)

consumer = KafkaConsumer(
    'my-topic',
    bootstrap_servers=['localhost:29092', 'localhost:29093', 'localhost:29094']
)
```

---

### Flink

| 항목 | 값 |
|------|-----|
| Web UI | http://localhost:8081 |
| JobManager RPC | `flink-jobmanager:6123` (내부) |
| 인증 | 없음 (개발 환경) |

**SQL Client 접속:**
```bash
docker exec -it flink-jobmanager /opt/flink/bin/sql-client.sh
```

---

## 환경 변수 관리

### 로컬 개발 (.env 파일)

```bash
# .env 파일 생성
cp .env.example .env

# 편집
nano .env
```

### 프로덕션 권장 사항

| 레벨 | 방법 | 용도 |
|------|------|------|
| 개발 | `.env` 파일 | 로컬 테스트 |
| 스테이징 | Docker Secrets | CI/CD 파이프라인 |
| 프로덕션 | HashiCorp Vault | 엔터프라이즈 시크릿 관리 |
| K8s | K8s Secrets | 쿠버네티스 환경 |

---

## 기본 생성 버킷 (MinIO)

| 버킷 | 용도 |
|------|------|
| `paimon` | Apache Paimon 테이블 저장 |
| `checkpoints` | Flink 체크포인트 |
| `warehouse` | 데이터 웨어하우스 |
| `datalake` | 범용 데이터 레이크 |

---

## 빠른 연결 테스트

```bash
# Kafka 연결 테스트
docker exec kafka-1 /opt/kafka/bin/kafka-topics.sh --bootstrap-server localhost:9092 --list

# MinIO 연결 테스트
curl http://localhost:9000/minio/health/live

# ClickHouse 연결 테스트
curl 'http://localhost:8123/?query=SELECT%201'

# Flink 연결 테스트
curl http://localhost:8081/overview
```
